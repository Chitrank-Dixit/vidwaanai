---
- name: Include Ingestion Tasks
  ansible.builtin.import_tasks: ingest_files.yml
  tags:
    - ingestion
    - ingest_files

- name: Include Vectorization Tasks
  ansible.builtin.import_tasks: vectorize.yml
  tags:
    - ingestion
    - vectorize

- name: Include Graph Build Tasks
  ansible.builtin.import_tasks: build_graph.yml
  tags:
    - ingestion
    - build_graph

- name: Log Ingestion Summary
  ansible.builtin.debug:
    msg: 
      - "Full logging available in output/logs/"
      - "Vedas Processed: {{ rigveda_output.rc is defined and rigveda_output.rc == 0 }}, {{ yajurveda_output.rc is defined and yajurveda_output.rc == 0 }}, ..."
      - "Puranas Found: {{ purana_files.matched | default('0') }}"
  tags:
    - ingestion
    - ingest_files
